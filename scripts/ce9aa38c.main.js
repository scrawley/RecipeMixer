!function(a){var b,c,d,b=function(){var b,d=a("#madlibform");d.on("submit",function(d){{var e=a("#cookingdays").val();a("#diet").val(),a("#allowedingredient").val()}d.preventDefault(),""!==value?(b=a.ajax({url:"http://api.yummly.com/v1/api/recipes",dataType:"jsonp",type:"GET",data:{_app_id:"2017af13",_app_key:"416b7b6ca38cf6524edc8181937b2ac3",q:"","allowedDiet[]":"",requirePictures:!0,"allowedIngredient[]":"",maxResult:e}}),b.done(c),b.error(function(a,b){console.log(a,b)})):alert("Please enter a value")})};c=function(a){console.log(a);var b=0,c=a.shots;for(b=c.length;b--;)resultsArr.push(c[b]),shotsArr.push({id:c[b].id,title:c[b].title,image_url:c[b].image_url,likes_count:c[b].likes_count,player_name:c[b].player.name,player_location:c[b].player.location}),totalLikes+=c[b].likes_count;d()},d=function(){console.log(resultsArr);var b=a("#content"),c=doT.template(a("#shot-template")[0].text),d={array:shotsArr};console.log(c(d)),b.append(c(d)),displayCharts()},displayCharts=function(){for(var b=shotsArr.length-1;b>=0;b--){var c=shotsArr[b];console.log("#chart-"+c.id);{var d=a("#chart-"+c.id),e=a("#map-"+c.id),f={center:{lat:39.2833,lng:-76.6167},zoom:8},g=(new google.maps.Map(e[0],f),d[0].getContext("2d"));new Chart(g).Doughnut([{value:c.likes_count,color:"#F7464A",highlight:"#FF5A5E",label:c.player_name},{value:totalLikes,color:"#ccc"}])}}},b()}(jQuery);